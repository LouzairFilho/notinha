<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml">

	<ui:define name="content">
		<h2 class="aw-page-title">Controle Notinhas</h2>

		<div class="container-fluid div-borda">
			<h:form id="frmContNotinha">
				
					<p:panelGrid style="width: 100%" styleClass="semBorda">
						<p:row>
							<p:column>
								<p:outputLabel value="Cliente"/>
							</p:column>
							<p:column colspan="3">
								<p:selectOneMenu id="cliente"  value="#{notinhaController.filtroNotinha.idClinte}" style="width: 100%" >
					            	<f:selectItem itemLabel="Todos Clientes" itemValue="" />
					            	<f:selectItems value="#{notinhaController.clientes}" var="c"
					            		itemLabel="#{c.nomeRazao} - #{c.nomeFantasia}" itemValue="c.id" />
					        	</p:selectOneMenu>
							</p:column>
							<p:column>
									<p:outputLabel value="Status"/>
							</p:column>
							<p:column style="width: 20%">
								<p:selectOneMenu id="status"  value="#{notinhaController.filtroNotinha.status}" style="width: 100%"  >
					            	<f:selectItem itemLabel="Selecione" itemValue="" />
					            	<f:selectItem itemLabel="Aberta      " itemValue="ABERTA" />
					            	<f:selectItem itemLabel="Paga" itemValue="PAGA" />
					            	
					        	</p:selectOneMenu>
							
							</p:column>
						
						</p:row>
						<p:row>
							<p:column>
									<p:outputLabel value="Data"/>
							</p:column>
							<p:column>
									<p:calendar id="fim" value="#{notinhaController.filtroNotinha.dataInicio}" />
									<p:spacer width="10"/> <p:outputLabel value="A"/> <p:spacer width="10"/>
									<p:calendar id="inicio" value="#{notinhaController.filtroNotinha.dataInicio}" />
							</p:column>
							<p:column> 
								<p:commandButton value="Filtar" update="tNotinhas"/>
							</p:column>
							<p:column> 
								<p:commandButton value="Em Aberto" action="#{notinhaController.listarNotinhaAberta}" update="tNotinhas"/>
							</p:column>
							<p:column> 
							</p:column>
							<p:column> 
							</p:column>
							
						</p:row>
					
					</p:panelGrid>
					<br/>	
					
						
										
				
				<div class="row">
					<div class="col-sm-12 form-group">
  						<p:dataTable id="tNotinhas" selectionMode="single"
							value="#{notinhaController.notinhas}" var="tNot" rowKey="#{tNot.id}"
							scrollable="true" scrollHeight="350" emptyMessage="Nenhum item lançado">
							
							<p:column style="width: 10%;  text-align: center" headerText="Nº Nota">
								<p:outputLabel value="#{tNot.id}"/>
							</p:column>
							
							<p:column headerText="Cliente">
								<p:outputLabel value="#{tNot.cliente.nomeRazao} - #{tNot.cliente.nomeFantasia}"/>
							</p:column>
							
							<p:column style="width: 10%;  text-align: center" headerText="Data">
								<p:outputLabel value="#{tNot.dataNotinha}"/>
							</p:column>
							
							<p:column style="width: 10%;  text-align: center" headerText="Valor">
								<p:outputLabel value="#{tNot.valorNotinha}"/>
							</p:column>
							
							<p:column style="width: 10%;  text-align: center" headerText="Status">
								<p:outputLabel value="#{tNot.status.descricao}"/>
							</p:column>
						
						
						
						
						<p:outputLabel value="#{notinhaController.notinhaBean.cliente.nomeFantasia}"/>
						
							<p:column style="width: 10%;  text-align: center ">
								<f:facet name="header">Açoes</f:facet>
								<p:commandButton icon="ui-icon-pencil" style="width: 32px;  height: 28px;" 
									styleClass="btn btn-primary btn-lg" update="frmContNotinha" >
									<f:setPropertyActionListener value="#{prod}" target="#{produtoController.produtoBean}"/>
								</p:commandButton>
								<p:commandButton icon="ui-icon-trash" style="width: 32px;  height: 28px;"  
									styleClass="btn btn-primary btn-lg" update="frmContNotinha" action="#{produtoController.excluir}" >
									<f:setPropertyActionListener value="#{prod}" target="#{produtoController.produtoSelect}"/>
								</p:commandButton>
							</p:column>
						</p:dataTable>
					
					</div>
				</div>
			</h:form>
		</div>






	</ui:define>

</ui:composition>